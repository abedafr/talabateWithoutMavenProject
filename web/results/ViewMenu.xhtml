<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">
    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />

            <title>View Menu</title>
        </f:facet>

        <f:facet name="middle">
            <h:outputStylesheet name="bootstrap/css/bootstrap.css" />

            <h:outputStylesheet name="css/dashboard.css" />

            <h:outputScript name="bootstrap/js/bootstrap.js" />
        </f:facet>

        <f:facet name="last">
            <h:outputStylesheet name="css/font-awesome.css" />
        </f:facet>
    </h:head>
    <h:body>

        <!--    <ui:composition template="/default/main.xhtml">
                <ui:define name="content">-->

        <f:view class="container">
            <div class="row">


                <div class="col-lg-6" style="width: 53%; float: left; ">
                    <h:form id="PlateViewForm" class="form-group form-inline">
                        <h1><h:outputText value="List"/></h1>
                        <h:dataTable  value="#{viewMenuController.items}" var="item" class="table table-responsive">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Nom" class=""/>
                                </f:facet>
                                <h:outputText value="#{item.nom}"/><br></br>
                                <h:outputText value="(#{item.cuisine.nom})"/>

                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Prix"/>
                                </f:facet>
                                <h4><h:outputText value="#{item.prix}"/></h4>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Action"/>
                                </f:facet>
                                <p:commandButton rendered="#{item.costume==true}" class="btn btn-primary" value="Voir supplements" actionListener="#{viewMenuController.prepareSuplement(item)}" update=":CommandeItemCreateForm, :SupplementSelectForm" oncomplete="PF('SupplementSelectDialog').show()"></p:commandButton>
                                <p:commandButton rendered="#{item.costume==false}" class="btn btn-primary" value="Ajouter au Panier" actionListener="#{viewMenuController.addCart(item)}" update=":CommandeItemCreateForm:CommandeItemList"></p:commandButton>
                            </h:column>
                        </h:dataTable>
                    </h:form>
                </div>
                <div class="col-lg-3  col-md-3" style="float: left; width: 40%;" >


                    <h:form id="CommandeItemCreateForm" class="form-group form-inline ">
                        <h1><h:outputText value="Panier"/></h1>
                        <p:commandButton  value="Vider La Liste" actionListener="#{viewMenuController.vider()}" update="CommandeItemList" class="form-control btn btn-danger "></p:commandButton>
                        <p:commandButton  value="Confimer commande" action="#{viewMenuController.confirmCmd()}"  update="CommandeItemList" class="form-control btn btn-success"></p:commandButton>
                        <p:dataTable id="CommandeItemList"  value="#{viewMenuController.commandeItems}" var="item" class="table table-striped " >
                            <p:column>
                                <div  class="list-inline">
                                    <h:outputText value="#{item.plate.nom}"/>
                                    <div style="float: right;">
                                        <center>
                                            <p:commandButton action="#{viewMenuController.delete(item)}"  value="Delete" update=":CommandeItemCreateForm:CommandeItemList" class="btn btn-danger"></p:commandButton>
                                            <h4>
                                                <h:outputText value="#{item.prixTotalItem} MAD" />
                                            </h4>
                                        </center>
                                    </div>
                                    <br></br>
                                    <div class="btn-group">
                                        <b:commandButton action="#{viewMenuController.minus(item)}"  value="-" update=":CommandeItemCreateForm:CommandeItemList" class="btn btn-default btn-group-sm "></b:commandButton>
                                        <b:commandButton disabled="true" value="  #{item.qte}  " class="btn btn-info btn-group-sm "/>
                                        <b:commandButton action="#{viewMenuController.plus(item)}"  value="+" update=":CommandeItemCreateForm:CommandeItemList" class="btn btn-default btn-group-sm"></b:commandButton>
                                    </div>
                                </div>
                            </p:column>
                        </p:dataTable>
                    </h:form>


                </div>
            </div>
        </f:view>
        <ui:include src="SupplementSelect.xhtml"/>

        <!--</ui:define></ui:composition>-->
    </h:body>
</html>

