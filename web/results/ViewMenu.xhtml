<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">
    <ui:composition template="/template/Mytemplate.xhtml">

        <ui:define name="title">FOODelivery | View Menu..</ui:define>

        <ui:define name="content">

        <f:view class="container">
            <div class="row">


                <div class="col-lg-6" style="width: 53%; float: left; ">
                    <h:form id="PlateViewForm" class="form-group form-inline">
                        <h1><h:outputText value="List"/></h1>
                        <h:dataTable  value="#{viewMenuController.items}" var="item" class="table table-striped ta ">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Nom" class=""/>
                                </f:facet>
                                <h:outputText value="#{item.plate.nom}"/><br></br>
                                <h:outputText value="(#{item.cuisine.nom})"/>

                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Prix"/>
                                </f:facet>
                                <h4><h:outputText value="#{item.prix}"/></h4>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Action"/>
                                </f:facet>
                                <b:commandButton rendered="#{item.costume==true}" 
                                                 class="btn btn-primary btn-xs glyphicon glyphicon-shopping-cart" 
                                                 value=""  icon="" 
                                                 actionListener="#{viewMenuController.prepareSuplement(item)}" 
                                                 update=":CommandeItemCreateForm, :SupplementSelectForm" 
                                                 oncomplete="PF('SupplementSelectDialog').show()"></b:commandButton>
                                <b:commandButton rendered="#{item.costume==false}" 
                                                 class="btn btn-primary btn-xs glyphicon glyphicon-shopping-cart" 
                                                 value="" icon="" 
                                                 actionListener="#{viewMenuController.addCart(item)}" 
                                                 update=":CommandeItemCreateForm"></b:commandButton>
                            </h:column>
                        </h:dataTable>
                    </h:form>
                </div>
                <div class="container col-lg-5  col-md-5 pull-right"  >


                    <h:form id="CommandeItemCreateForm" class="form-group form-inline pull-right">
                        <h1><h:outputText value="Panier"/></h1>
                        <p:commandButton  value="Vider La Liste" actionListener="#{viewMenuController.vider()}" update="CommandeItemList" class="form-control btn btn-danger "></p:commandButton>
                        <p:commandButton  value="Confimer commande (#{viewMenuController.calculTotal()})" action="#{viewMenuController.confirmCmd()}"  update="CommandeItemList" class="form-control btn btn-success"></p:commandButton>
                        <p:dataTable id="CommandeItemList"  value="#{viewMenuController.commandeItems}" var="item" class="table table-striped " >
                            <p:column>
                                <div  class="list-inline">
                                    <h:outputText value="#{item.platMenu.plate.nom}"/>
                                    <div class="pull-right">
                                        <center>
                                            <h:outputText class="h4" value="#{item.prixTotalItem} MAD" /><br/>
                                            <b:commandButton action="#{viewMenuController.delete(item)}" value="" icon="trash" update=":CommandeItemCreateForm" class="btn btn-xs btn-danger"/>
                                                
                                        </center>
                                    </div>
                                    <br></br>
                                    
                                    <div class="btn-group">
                                        <b:commandButton action="#{viewMenuController.minus(item)}"  value="" icon="minus" update=":CommandeItemCreateForm" class="btn  btn-group-xs "></b:commandButton>
                                        <b:commandButton disabled="true" value="#{item.qte}" class="btn btn-info btn-group-xs"/>
                                        <b:commandButton action="#{viewMenuController.plus(item)}"  value="" icon="plus" update=":CommandeItemCreateForm" class="btn  btn-group-xs"></b:commandButton>
                                    </div>
                                </div>
                            </p:column>
                        </p:dataTable>
                    </h:form>
                </div>
            </div>
        </f:view>
        <ui:include src="SupplementSelect.xhtml"/>

        </ui:define></ui:composition>
</html>

